<!doctype html>
<html>
    <head>
        <meta charset="UTF-8" />
        <title>hello phaser!</title>
        <script src="js/phaser.min.js"></script>
    </head>
    <body>

    <div id="blah">

    <script type="text/javascript">

    window.onload = function() {

        var game_size = 16;
        var button1;

        var colours = [255, 0,   0, 
                       0,   255, 0,
                       50,  50,  255,
                       0,   125, 175,
                       255, 130, 0,
                       255, 255, 255];


        var game = new Phaser.Game(500, 400, Phaser.CANVAS, 'blah', { preload: preload, create: create, update: update, render: render });

        function preload() {
        }

        function create() {

            // Phaser.Canvas.setUserSelect(game.canvas, 'none');
         //    Phaser.Canvas.setTouchAction(game.canvas, 'none');
            for (var i = 0; i < game_size; i++) {
                for (var j = 0; j < game_size; j++) {
                    var box = game.add.bitmapData(20, 20);
                    var this_colour = Math.floor(Math.random()*6);
                    box.fill(colours[this_colour*3],colours[this_colour*3+1],colours[this_colour*3+2],1);
                    game.add.sprite(10+20*i,10+20*j,box);
                }
            }

            for (var i = 1; i < 6; i++) {
                var circ = game.add.bitmapData(32,32);
                circ.fill(colours[i*3],colours[i*3+1],colours[i*3+2],1);
                game.add.button(game_size*20+50+60*(i%2), 50+60*(i/2), circ, actionOnClick, this);
            }
            var circ = game.add.bitmapData(32,32);
            circ.fill(colours[0],colours[1],colours[2],1);
            button1 = game.add.sprite(game_size*20+50, 50, circ);
            button1.inputEnabled = true;
            button1.events.onInputDown.add(function() { console.log('button event onInputDown');}, this);
            game.input.onDown.add(function() {console.log("argh");});
            game.input.mouse.capture = true;
        }

        function update() {
        }

        function render() {
            game.debug.text("Left Button: " + game.input.activePointer.leftButton.isDown, 300, 132);
        }

        function actionOnClick(button) {
            console.log("blah");
        }

    };

    </script>

    </div>

    </body>
</html>